# Лабораторная №1

## Задание

Настроить nginx по заданному тз:
  1. Должен работать по https c сертификатом
  2. Настроить принудительное перенаправление HTTP-запросов (порт 80) на HTTPS (порт 443) для обеспечения безопасного соединения
  3. Использовать alias для создания псевдонимов путей к файлам или каталогам на сервере
  4. Настроить виртуальные хосты для обслуживания нескольких доменных имен на одном сервере
  5. Что угодно еще под требования проекта
**Результат:** Предположим, что у вас есть два пет проекта на одном сервере, которые должны быть доступны по https. Настроенный вами веб сервер умеет работать по https, относить нужный запрос к нужному проекту, переопределять пути исходя из требований пет проектов.
В качестве пет проектов можете использовать что-то свое, можете что-то опенсорсное, можете просто код из трех строчек как например здесь
Важно: В этой лабе прошу вас не углубляться в безопасность nginx, тк так будет интереснее делать лабу со звездочкой)

## Ход работы

Сначала мы долго пытались обновить линукс...очень долго...и очень страшно...
Далее было необходимо установить nginx:
```
sudo pacman -Sy nginx
```

После успешной установки nginx были созданы два виртуальных хоста — sadhamster.com и happygiraffe.ru.
```
127.0.1.1  sadhamster.com
127.0.1.1  happygiraffe.ru
```

Далее в конец файла конфигурации nginx.conf была добавлена строка, позволяющая ДОПИСАТЬ???
```
include /etc/nginx/sites-enabled/*.conf;
```

Были созданы ```/sites-enabled/``` и ```/sites-available/```, в которой хранятся все конфигурационные файлы виртуальных хостов.

Для каждого виртуального хоста были созданы простые HTML-страницы.

Чтобы настроить соединение по HTTPS, для каждого хоста были созданы самоподписанные сертификаты.
```
openssl req -new -x509 -nodes -newkey rsa:4096 -keyout server.key -out server.crt -days 1095
```

Было настроено принудительное перенаправление HTTP-запросов (порт 80) на HTTPS (порт 443).
```
return 301 https://happygiraffe.ru$request_uri;
```

Для создания псевдонимов путей к файлам или каталогам на сервере использовались алиасы


